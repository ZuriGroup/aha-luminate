<!--NOT PART OF DEPLOYMENT PROCESS. MUST BE MANUALLY COPIED TO CMS.-->
<div ng-controller="HomeCtrl">
  <div class="ym-hero-top__find-your-school text-center visible-xs">
    <a href="#scroll#JumpSearch" class="btn btn-primary btn-lg" role="button">
      Students &amp; Parents:<br>Find Your School to Sign Up
    </a>
  </div>
  <t:if test="banner_image.length>0">
    <div class="ym-hero__owl-carousel ym-carousel--hero owl-carousel owl-theme">
      <t:list id="banner_image">
        <div class="item">
          <div class="ym-hero" style="background-image:url(${url});">
            <t:if test="overlay_location.length>0">
              <section>
                <t:list id="overlay_location">
                <t:if test="name=='bottom-left'">
                <div class="ym-hero__text ym-hero__text--left hidden-xs">
                </t:if>
                <t:else>
                <div class="ym-hero__text ym-hero__text--right hidden-xs">
                </t:else>
                </t:list>
                  <h1>
                    ${title}
                  </h1>
                  <p>
                    ${description}
                  </p>
                </div>
              </section>
            </t:if>
          </div>
          <t:if test="overlay_location.length>0">
            <div class="ym-hero__text hidden-sm hidden-md hidden-lg">
              <section>
                <h1>
                  ${title}
                </h1>
                <p>
                  ${description}
                </p>
              </section>
            </div>
          </t:if>
        </div>
      </t:list>
    </div>
  </t:if>
  <t:if test="!isNull(body)">
    <div class="ym-page-section ym-page-section__block ym-page-section__block--slim">
      <div class="col-sm-12">
        ${body}
      </div>
    </div>
  </t:if>
  <t:if test="full_width_promo_1.length>0">
    <t:list id="full_width_promo_1">
      ${body}
    </t:list>
  </t:if>
  <t:if test="full_width_promo_2.length>0">
    <t:list id="full_width_promo_2">
      ${body}
    </t:list>
  </t:if>
  <!-- School Search starts -->
  <a name="JumpSearch"></a>
  <div class="ym-school-search ym-page-section__main" id="school-search" ng-controller="SchoolSearchCtrl" ng-cloak>
    <form method="POST" ng-submit="submitSchoolSearch()">
      <div class="form-group">
        <t:if test="path == '/middle-school/'">
          <img class="img-responsive" src="http://heart.pub30.convio.net/assets/images/middle-school/find-school-graphic.png" alt="Find your school">
        </t:if>
        <t:if test="path == '/district-heart-challenge/'">
          <img class="img-responsive" src="http://heart.pub30.convio.net/assets/images/district-heart-challenge/find-school-graphic.png" alt="Find your school">
        </t:if>
        <t:if test="path == '/high-school/'">
          <img class="img-responsive" src="http://heart.pub30.convio.net/assets/images/high-school/find-school-graphic.png" alt="Find your school">
        </t:if>
        <t:if test="path == '/jump-hoops/'">
          <img class="img-responsive hidden-xs" src="http://heart.pub30.convio.net/assets/images/hoops-jump-search-graphic.png" alt="Find your school">
          <img class="img-responsive hidden-sm hidden-md hidden-lg" src="http://heart.pub30.convio.net/assets/images/hoops-jump-search-graphic-mobile.jpg" alt="Find your school">
        </t:if>
        <div class="form-inline text-center">
          <label for="school-name-filter" class="sr-only">School name:</label>
          <input type="text" class="form-control" id="school-name-filter" name="school-name-filter" ng-model="schoolList.ng_nameFilter" placeholder="Start typing your school's name" autocomplete="off" uib-typeahead="school.SCHOOL_NAME for school in getSchoolSuggestions($viewValue)" typeahead-min-length="3" typeahead-editable="true" typeahead-focus-first="false" ng-class="{'disabled': schoolList.searchPending}" ng-disabled="schoolList.searchPending"> 
          <button type="submit" class="btn btn-secondary school-name-filter-submit" ng-class="{'disabled': schoolList.searchPending}" ng-disabled="schoolList.searchPending">
            <strong>Search</strong>
          </button>
        </div>
      </div>
      <div class="ym-page-section ym-page-section__roster" ng-if="schoolList.searchSubmitted">
        <div ng-if="schoolList.schools.length > 0 || (schoolList.schools.length == 0 && schoolList.stateFilter && schoolList.stateFilter != '')">
          <div class="ym-page-section__header">
            <section>
              <h2 class="h5 school-list__header">
                Results Matching Your School's Name
              </h2>
              <label for="school-state-filter" class="sr-only">School State Filter</label>
              <select class="btn btn-sm btn-secondary" id="school-state-filter" name="stateFilter" ng-model="schoolList.stateFilter" ng-change="getSchoolSearchResults()">
                <option value="">Filter Results by State</option>
                <option value="AK">AK</option>
                <option value="AL">AL</option>
                <option value="AR">AR</option>
                <option value="AZ">AZ</option>
                <option value="CA">CA</option>
                <option value="CO">CO</option>
                <option value="CT">CT</option>
                <option value="DC">DC</option>
                <option value="DE">DE</option>
                <option value="FL">FL</option>
                <option value="GA">GA</option>
                <option value="HI">HI</option>
                <option value="IA">IA</option>
                <option value="ID">ID</option>
                <option value="IL">IL</option>
                <option value="IN">IN</option>
                <option value="KS">KS</option>
                <option value="KY">KY</option>
                <option value="LA">LA</option>
                <option value="MA">MA</option>
                <option value="MD">MD</option>
                <option value="ME">ME</option>
                <option value="MI">MI</option>
                <option value="MN">MN</option>
                <option value="MO">MO</option>
                <option value="MS">MS</option>
                <option value="MT">MT</option>
                <option value="NC">NC</option>
                <option value="ND">ND</option>
                <option value="NE">NE</option>
                <option value="NH">NH</option>
                <option value="NJ">NJ</option>
                <option value="NM">NM</option>
                <option value="NV">NV</option>
                <option value="NY">NY</option>
                <option value="OH">OH</option>
                <option value="OK">OK</option>
                <option value="OR">OR</option>
                <option value="PA">PA</option>
                <option value="RI">RI</option>
                <option value="SC">SC</option>
                <option value="SD">SD</option>
                <option value="TN">TN</option>
                <option value="TX">TX</option>
                <option value="UT">UT</option>
                <option value="VT">VT</option>
                <option value="VA">VA</option>
                <option value="WA">WA</option>
                <option value="WI">WI</option>
                <option value="WV">WV</option>
                <option value="WY">WY</option>
                <option value="GU">Guam</option>
                <option value="PR">Puerto Rico</option>
              </select>
            </section>
          </div>
        </div>
        <div ng-if="schoolList.schools.length > 0">
          <div class="alert alert-info" ng-if="schoolList.totalNumberResults > 2500">
            <strong>Your search returned more than 2,500 results. Please try again with a more specific keyword.</strong>
          </div>
          <div class="text-center visible-xs-block">
            <em>Scroll right to view all information</em>
          </div>
          <div class="ym-list__school-list-wrpr">
            <table class="table table-responsive table-striped ym-list ym-list--school-list" summary="Results Matching Your School's Name">
              <thead class="ym-list__header">
                <th class="ym-list__column ym-list__column--school" scope="col">
                  <a ng-click="orderSchools('SCHOOL_NAME')">
                    School 
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'SCHOOL_NAME' && !schoolList.sortDesc" class="fa fa-caret-down"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'SCHOOL_NAME' && schoolList.sortDesc" class="fa fa-caret-up"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp != 'SCHOOL_NAME'" class="fa fa-caret-down inactive"></span>
                  </a>
                </th>
                <th class="ym-list__column ym-list__column--city" scope="col">
                  <a ng-click="orderSchools('SCHOOL_CITY')">
                    City 
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'SCHOOL_CITY' && !schoolList.sortDesc" class="fa fa-caret-down"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'SCHOOL_CITY' && schoolList.sortDesc" class="fa fa-caret-up"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp != 'SCHOOL_CITY'" class="fa fa-caret-down inactive"></span>
                  </a>
                </th>
                <th class="ym-list__column ym-list__column--state" scope="col">
                  <a ng-click="orderSchools('SCHOOL_STATE')">
                    State 
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'SCHOOL_STATE' && !schoolList.sortDesc" class="fa fa-caret-down"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'SCHOOL_STATE' && schoolList.sortDesc" class="fa fa-caret-up"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp != 'SCHOOL_STATE'" class="fa fa-caret-down inactive"></span>
                  </a>
                </th>
                <th class="ym-list__column ym-list__column--team-leader text-right" scope="col">
                  <a ng-click="orderSchools('COORDINATOR_LAST_NAME')">
                    Team Leader 
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'COORDINATOR_LAST_NAME' && !schoolList.sortDesc" class="fa fa-caret-down"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp == 'COORDINATOR_LAST_NAME' && schoolList.sortDesc" class="fa fa-caret-up"></span>
                    <span ng-show="schoolList.schools.length && schoolList.sortProp != 'COORDINATOR_LAST_NAME'" class="fa fa-caret-down inactive"></span>
                  </a>
                </th>
              </thead>
              <tbody>
                <tr class="ym-list__row" ng-repeat="school in schoolList.schools | filter:paginate">
                  <td class="ym-list__column ym-list__column--school">
                    <a ng-href="{{nonSecureDomain}}site/TR?pg=company&fr_id={{school.FR_ID}}&company_id={{school.COMPANY_ID}}"><span ng-bind-html="school.SCHOOL_NAME"></span></a><br>
                    <a class="btn btn-primary btn-md mt-sm" ng-href="{{nonSecureDomain}}site/TRR?fr_id={{school.FR_ID}}&amp;pg=tfind&amp;fr_tm_opt=existing&s_frTJoin=&amp;company_id={{school.COMPANY_ID}}&amp;s_frCompanyId={{school.COMPANY_ID}}">
                      Sign Up
                    </a>
                  </td>
                  <td class="ym-list__column ym-list__column--city">
                    <span ng-bind-html="school.SCHOOL_CITY"></span>
                  </td>
                  <td class="ym-list__column ym-list__column--state">
                    <span ng-bind-html="school.SCHOOL_STATE"></span>
                  </td>
                  <td class="ym-list__column ym-list__column--team-leader text-right">
                    <span ng-bind-html="school.COORDINATOR_LAST_NAME"></span>, <span ng-bind-html="school.COORDINATOR_FIRST_NAME"></span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="ym-pagination text-center" ng-show="schoolList.schools.length > schoolList.paginationItemsPerPage">
            <ul uib-pagination ng-model="schoolList.currentPage" total-items="schoolList.totalItems" items-per-page="schoolList.paginationItemsPerPage" max-size="schoolList.paginationMaxSize" boundary-links="schoolList.schools.length > (schoolList.paginationItemsPerPage * schoolList.paginationMaxSize)"></ul>
          </div>
        </div>
        <div ng-if="schoolList.schools.length == 0" class="text-center" ng-class="{'pb-md': schoolList.showHelp}">
          <p>
            Hi! We couldn't locate a school with the name of <strong>{{schoolList.nameFilter}}</strong><span ng-if="schoolList.stateFilter && schoolList.stateFilter != ''"> in <strong>{{schoolList.stateFilter}}</strong></span>. Need Help locating your school? Visit the <a href="https://jumphoops.zendesk.com/hc/en-us" target="_blank">help center</a> for assistance.
          </p>
          <p>
            You can still register today without designating a school, and a school coordinator from our team will make sure you're properly linked up with your school.
          </p>
          <div class="pt-md">
            <a class="btn btn-md btn-secondary ym-list--school-list--help" ng-href="{{noSchoolLink}}">Sign Up Today</a>
          </div>
        </div>
        <div ng-if="schoolList.schools.length > 0">
          <div ng-if="schoolList.showHelp" class="text-center">
            Click <a ng-href="{{noSchoolLink}}">here</a> to sign up for <t:list id="event"><t:if test="name=='jump-hoops'">"Jump Rope and Hoops for Heart"</t:if><t:else><t:if test="name=='middle-school'">"Middle School for Heart"</t:if><t:else><t:if test="name=='district-heart-challenge'">"District Heart Challenge"</t:if><t:else><t:if test="name=='high-school'">"High School for Heart"</t:if></t:else></t:else></t:else></t:list> and a school coordinator will get in touch with you soon to confirm you've been properly signed up with your school.
          </div>
          <div ng-if="!schoolList.showHelp" class="text-center">
            <button type="button" class="btn btn-md btn-secondary ym-list--school-list--help" ng-click="schoolList.showHelp = true;">
              Can't Find Your School
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
  <!-- School Search ends -->
  <div class="ym-home-feature ym-carousel--home event-accent">
    <t:if test="!isNull(section_title) && !isNull(section_intro_text)">
      <div class="container">
        <section>
          <t:if test="!isNull(section_title)"><h2 class="text-center">${section_title}</h2></t:if>
          <t:if test="!isNull(section_intro_text)"><p class="text-center">${section_intro_text}</p></t:if>
        </section>
      </div>
    </t:if>
    <!-- Stories Carousel -->
    <t:include id="templatelist-800141387" />
  </div>
  <t:set id="currentpath" value="path" />
  <t:if test="currentpath == '/district-heart-challenge/'">
    <div class="ym-page-section ym-page-section__main">
      <div class="container">
        <section aria-label="Participant search">
          <h2 class='text-center'>
            Find a Participant or Team to Support
          </h2>
          <div class="ym-roster-search">
            <form class="form-inline" name="companyParticipantSearchForm" method="POST" ng-submit="searchParticipants()">
              <div class="ym-roster-search-title">
                Participant Search:
              </div>
              <div class="form-group">
                <label for="participantSearch-ng_first_name" class="sr-only">First Name:</label>
                <input type="text" class="form-control" id="participantSearch-ng_first_name" name="ng_first_name" ng-model="participantSearch.ng_first_name" placeholder="First Name">
              </div>
              <div class="form-group">
                <label for="participantSearch-ng_last_name" class="sr-only">Last Name:</label>
                <input type="text" class="form-control" id="participantSearch-ng_last_name" name="ng_last_name" ng-model="participantSearch.ng_last_name" placeholder="Last Name">
              </div>
              <button type="submit" class="btn btn-md-wide">
                <strong>Search</strong>
              </button>
            </form>
          </div>
          <div class="alert alert-danger" ng-if="totalParticipants == 0" ng-cloak>
            No participants found.
          </div>
          <div class="table-responsive" ng-if="totalParticipants > 0" ng-cloak>
            <table class="table table-striped table--padded ym-list ym-list--participant-list" summary="Results for participant search">
              <thead class="ym-list__header">
                <tr>
                  <th class="ym-list__column ym-list__column--name" scope="col" role="columnheader" aria-sort="{{participantList.sortColumn != 'fullName' ? 'none' : (participantList.sortAscending ? 'ascending' : 'descending')}}">
                    <a href="" ng-click="orderParticipants('fullName')">
                      <strong>Participant Name</strong>&nbsp;
                      <span ng-show="totalParticipants > 1 && participantListSetting.sortProp == 'fullName' && !participantListSetting.sortDesc" class="fa fa-caret-down"></span>
                      <span ng-show="totalParticipants > 1 && participantListSetting.sortProp == 'fullName' && participantListSetting.sortDesc" class="fa fa-caret-up"></span>
                    </a>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr class="ym-list__row" ng-if="totalParticipants == 1">
                  <td class="ym-list__column ym-list__column--name">
                    <a ng-href="{{participant.personalPageUrl}}">
                      <span ng-bind-html="participant.name.first"></span>
                      <span ng-bind-html="participant.name.last"></span>
                    </a>
                  </td> 
                  <td class="ym-list__column ym-list__column--donate">
                    <a class="btn btn-primary btn-md" ng-href="{{participant.donationUrl}}">
                      <strong>Donate</strong>
                    </a>
                  </td>
                </tr>
                <tr class="ym-list__row" ng-repeat="participant in participantList | filter:participantPaginate" ng-if="totalParticipants > 1">
                  <td class="ym-list__column ym-list__column--name">
                    <a ng-href="{{participant.personalPageUrl}}">
                      <span ng-bind-html="participant.name.first"></span>
                      <span ng-bind-html="participant.name.last"></span>
                    </a>
                  </td> 
                  <td class="ym-list__column ym-list__column--donate">
                    <a class="btn btn-primary btn-md" ng-href="{{participant.donationUrl}}">
                      <strong>Donate</strong>
                    </a>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="ym-pagination text-center" ng-show="participantListSetting.totalItems > participantListSetting.paginationItemsPerPage">
              <ul uib-pagination ng-model="participantListSetting.currentPage" total-items="participantListSetting.totalItems" items-per-page="participantListSetting.paginationItemsPerPage" max-size="participantListSetting.paginationMaxSize" boundary-links="participantListSetting.participants.length > (participantListSetting.paginationItemsPerPage * participantListSetting.paginationMaxSize)"></ul>
            </div>
          </div>
        </section>
      </div>
    </div>
  </t:if>
  <t:if test="display_footer_promos.length>0">
    <t:list id="display_footer_promos">
      <t:if test="name != 'no'">
        <!-- Our Impact -->
        <div class="ym-page-section ym-page-section__main" ng-show="showStats == true" ng-cloak>
          <div class="container">
            <div class="ym-stats ym-promo-block">
              <section aria-label="Your Impact Statistics">
                <h2 class="text-center">
                  Your Impact
                </h2>
                <!-- here it is - ${currentpath} -->
                <t:if test="currentpath == '/jump-hoops/'">
                  <div class="ym-promo-block__item ym-promo-block__item--participants ym-promo-block--circle">
                    <section>
                      <div class="h2 ym-headline">
                        {{totalStudents}}
                      </div>
                      <p>
                        participants
                      </p>
                    </section>
                  </div>
                  <div class="ym-promo-block__item ym-promo-block__item--pledges ym-promo-block--circle">
                    <section>
                      <div class="h2 ym-headline">
                        {{totalChallenges}}
                      </div>
                      <p>
                        pledges taken
                      </p>
                    </section>
                  </div>
                  <div class="ym-promo-block__item ym-promo-block__item--schools ym-promo-block--circle">
                    <section>
                      <div class="h2 ym-headline">
                        {{totalSchools}}
                      </div>
                      <p>
                        participating schools
                      </p>
                    </section>
                  </div>
                </t:if>
                <t:else>
                  <div class="ym-promo-block__item ym-promo-block__item--participants ym-promo-block--circle">
                    <section>
                      <div class="h2 ym-headline">
                        {{totalStudents}}
                      </div>
                      <p>
                        participants
                      </p>
                    </section>
                  </div>
                  <div class="ym-promo-block__item ym-promo-block__item--pledges ym-promo-block--circle">
                    <section>
                      <div class="h2 ym-headline">
                        {{totalEmails}}
                      </div>
                      <p>
                        emails sent
                      </p>
                    </section>
                  </div>
                  <div class="ym-promo-block__item ym-promo-block__item--schools ym-promo-block--circle">
                    <section>
                      <div class="h2 ym-headline">
                        {{totalSchools}}
                      </div>
                      <p>
                        participating schools
                      </p>
                    </section>
                  </div>
                </t:else>
              </section>
            </div>
          </div>
        </div>
        <!-- Our Impact ends -->
      </t:if>
    </t:list>
  </t:if>
  <!-- National Sponsor -->
  <t:if test="footer_promos.length>0">
    <t:list id="footer_promos">
      ${body}
    </t:list>
  </t:if>
  <div class="modal fade" id="noRegModal" tabindex="-1" role="dialog" aria-labelledby="noRegModelLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h3 class="modal-title" id="noRegModalLabel">
            Welcome, ${cons.name.first}
          </h3>
        </div>
        <div class="modal-body">
          <p class="text-center">
            ${modal_text}
          </p>
        </div>
        <div class="modal-footer text-center">
          <a class="btn btn-primary btn-lg" href="#school-search" ng-click="closeModal()">
            ${modal_btn}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>