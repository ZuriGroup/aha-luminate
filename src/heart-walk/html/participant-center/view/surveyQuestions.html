<div cg-busy="surveyResponsePromises">
  <ul class="nav nav-tabs">
    <li>
      <a ng-href="{{baseUrl}}#/profile">
        <span translate="hdr_profile_link"></span>
      </a>
    </li>
    <li class="active">
      <a ng-href="{{baseUrl}}#/profile/questions">
        <span translate="nav_survey_questions"></span>
      </a>
    </li>
    <li>
      <a ng-href="{{baseUrl}}#/profile/options">
        <span translate="nav_event_options"></span>
      </a>
    </li>
  </ul>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">
        <span translate="subnav_edit_survey_responses"></span>
      </h2>
    </div>
    <div class="panel-body">
      <div ng-if="sqvm.surveyFields && sqvm.surveyFields.length == 0">
        <span translate="survey_no_questions"></span>
      </div>
      <div ng-if="sqvm.surveyFields && sqvm.surveyFields.length > 0">
        <div uib-alert class="alert-success" ng-if="updateSurveySuccess" close="resetSurveyAlerts()">
          <span translate="survey_save_success"></span>
        </div>
        <div uib-alert class="alert-danger" ng-if="updateSurveyFailure" close="resetSurveyAlerts()">
          {{updateSurveyFailureMessage}}
        </div>
        <form ng-submit="updateSurveyResponses($event)" novalidate>
          <formly-form model="sqvm.surveyModel" fields="sqvm.surveyFields" form="sqvm.surveyForm" options="sqvm.surveyOptions">
            <div class="clearfix">
              <div class="pull-left">
                <button type="reset" class="btn btn-default" ng-click="sqvm.surveyOptions.resetModel()"><span translate="profile_reset_button"></span></button>
              </div>
              <div class="pull-right">
                <button type="submit" class="btn btn-primary submit-button"><span translate="survey_save_responses_button"></span></button>
              </div>
            </div>
          </formly-form>
        </form>
      </div>
    </div>
  </div>
</div>