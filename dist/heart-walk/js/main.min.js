(function(){angular.module("ahaLuminateApp",["ngSanitize","ui.bootstrap","ahaLuminateControllers"]),angular.module("ahaLuminateControllers",[]),angular.module("ahaLuminateApp").constant("APP_INFO",{version:"1.0.0"}),angular.module("ahaLuminateApp").run(["$rootScope","APP_INFO",function(a,b){var c;if(c=angular.element("[data-aha-luminate-root]"),""!==c.data("api-key")&&(a.apiKey=c.data("api-key")),a.apiKey||new Error("AHA Luminate Framework: No Luminate Online API Key is defined."),""!==c.data("cons-id")&&(a.consId=c.data("cons-id")),""!==c.data("auth-token")&&(a.authToken=c.data("auth-token")),""!==c.data("fr-id"))return a.frId=c.data("fr-id")}]),angular.element(document).ready(function(){return angular.bootstrap(document,["ahaLuminateApp"])}),angular.module("ahaLuminateApp").factory("LuminateRESTService",["$rootScope","$http","APP_INFO",function(a,b,c){return{request:function(d,e,f,g){if(e)if(a.apiKey){if(e+="&v=1.0&api_key="+a.apiKey+"&response_format=json&suppress_response_codes=true&ng_tr_pc_v="+c.version,!f||a.authToken)return f&&(e+="&auth="+a.authToken),g&&(e+="&fr_id="+a.frId+"&s_trID="+a.frId),a.locale&&(e+="&s_locale="+a.locale),b({method:"POST",url:d,data:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){return a})}else;else;},teamraiserRequest:function(a,b,c){return this.request("CRTeamraiserAPI",a,b,c)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserCompanyService",["LuminateRESTService",function(a){return{getCompanies:function(b){var c;return c="method=getCompaniesByInfo",b&&""!==b&&(c+="&"+b),a.teamraiserRequest(c,!1,!0).then(function(a){return a})}}}]),angular.module("ahaLuminateApp").factory("TeamraiserParticipantService",["LuminateRESTService",function(a){return{getParticipants:function(b){var c;return c="method=getParticipants",b&&""!==b&&(c+="&"+b),a.teamraiserRequest(c,!1,!0).then(function(a){return a})}}}]),angular.module("ahaLuminateApp").factory("TeamraiserTeamService",["LuminateRESTService",function(a){return{getTeams:function(b){var c;return c="method=getTeamsByInfo",b&&""!==b&&(c+="&"+b),a.teamraiserRequest(c,!1,!0).then(function(a){return a})}}}]),angular.module("ahaLuminateControllers").controller("GreetingPageCtrl",["$scope","TeamraiserParticipantService","TeamraiserTeamService","TeamraiserCompanyService",function(a,b,c,d){return b.getParticipants("fr_id=&first_name="+encodeURIComponent("%%%")+"&list_sort_column=total&list_ascending=false").then(function(b){var c;return c=b.data.getParticipantsResponse.participant,angular.isArray(c)||(c=[c]),a.topParticipants=c}),c.getTeams("fr_id=&list_sort_column=total&list_ascending=false").then(function(b){var c;return c=b.data.getTeamSearchByInfoResponse.team,angular.isArray(c)||(c=[c]),a.topTeams=c}),d.getCompanies("fr_id=&list_sort_column=total&list_ascending=false").then(function(b){var c;return c=b.data.getCompaniesResponse.company,angular.isArray(c)||(c=[c]),a.topCompanies=c})}]),angular.module("ahaLuminateApp").directive("topCompanyList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/topCompanyList.html",restrict:"E",replace:!0,scope:{companies:"=",maxSize:"="}}}),angular.module("ahaLuminateApp").directive("topParticipantList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/topParticipantList.html",restrict:"E",replace:!0,scope:{participants:"=",maxSize:"="}}}),angular.module("ahaLuminateApp").directive("topTeamList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/topTeamList.html",restrict:"E",replace:!0,scope:{teams:"=",maxSize:"="}}})}).call(this);