(function(){angular.module("ahaLuminateApp",["ngSanitize","ui.bootstrap","ahaLuminateControllers"]),angular.module("ahaLuminateControllers",[]),angular.module("ahaLuminateApp").constant("APP_INFO",{version:"1.0.0"}),angular.module("ahaLuminateApp").run(["$rootScope","APP_INFO",function(s,e){var S;if(S=angular.element("[data-aha-luminate-root]"),""!==S.data("api-key")&&(s.apiKey=S.data("api-key")),s.apiKey||new Error("AHA Luminate Framework: No Luminate Online API Key is defined."),""!==S.data("cons-id")&&(s.consId=S.data("cons-id")),""!==S.data("auth-token")&&(s.authToken=S.data("auth-token")),""!==S.data("fr-id"))return s.frId=S.data("fr-id")}]),angular.element(document).ready(function(){var s,e;s=["ahaLuminateApp"];try{angular.module("trPcApp"),s.push("trPcApp")}catch(s){e=s}try{angular.module("trPageEditApp"),s.push("trPageEditApp")}catch(s){e=s}return angular.bootstrap(document,s)}),angular.module("ahaLuminateApp").factory("LuminateRESTService",["$rootScope","$http","APP_INFO",function(s,e,S){return{request:function(S,a,E,T){if(a)if(s.apiKey){if(a+="&v=1.0&api_key="+s.apiKey+"&response_format=json&suppress_response_codes=true",!E||s.authToken)return E&&(a+="&auth="+s.authToken),T&&(a+="&fr_id="+s.frId+"&s_trID="+s.frId),e({method:"POST",url:S,data:a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(s){return s})}else;else;},luminateExtendRequest:function(e,S,a,E,T){if(luminateExtend){if(S)return E&&(S+="&fr_id="+s.frId+"&s_trID="+s.frId),luminateExtend.api({api:e,data:S,requiresAuth:a,callback:T||angular.noop})}else;},teamraiserRequest:function(s,e,S){return this.request("CRTeamraiserAPI",s,e,S)},luminateExtendTeamraiserRequest:function(s,e,S,a){return this.luminateExtendRequest("teamraiser",s,e,S,a)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserCompanyService",["LuminateRESTService",function(s){return{getCompanies:function(e,S){var a;return a="method=getCompaniesByInfo",e&&""!==e&&(a+="&"+e),s.luminateExtendTeamraiserRequest(a,!1,!0,S)},getCompanyList:function(e,S){var a;return a="method=getCompanyList",e&&""!==e&&(a+="&"+e),s.luminateExtendTeamraiserRequest(a,!1,!0,S)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserParticipantService",["LuminateRESTService",function(s){return{getParticipants:function(e,S){var a;return a="method=getParticipants",e&&""!==e&&(a+="&"+e),s.luminateExtendTeamraiserRequest(a,!1,!0,S)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserTeamService",["LuminateRESTService",function(s){return{getTeams:function(e,S){var a;return a="method=getTeamsByInfo",e&&""!==e&&(a+="&"+e),s.luminateExtendTeamraiserRequest(a,!1,!0,S)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserCompanyDataService",["$rootScope","$http",function(s,e){return{getCompanyData:function(){return e.get("PageServer?pagename=getHeartwalkCompanyData&pgwrap=n&response_format=json&fr_id="+s.frId).then(function(s){return s})}}}]),angular.module("ahaLuminateApp").directive("eqColumnHeight",["$window","$timeout",function(s,e){return{restrict:"A",link:function(S,a){var E;return E=function(){var s;return angular.element(a).css("height",""),angular.element(a).siblings("[eq-column-height]").css("height",""),s=Number(angular.element(a).css("height").replace("px","")),angular.element(a).siblings("[eq-column-height]").each(function(){var e;if(e=Number(angular.element(this).css("height").replace("px","")),e>s)return s=e}),angular.element(a).css("height",s+"px"),angular.element(a).siblings("[eq-column-height]").css("height",s+"px")},e(E,500),angular.element(s).bind("resize",function(){return E(),S.$digest()})}}}]),angular.module("ahaLuminateApp").directive("companyParticipantList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/companyParticipantList.html",restrict:"E",replace:!0,scope:{isOpen:"=",isChildCompany:"=",companyName:"=",companyId:"=",frId:"=",participants:"=",searchCompanyParticipants:"="},controller:["$scope",function(s){return s.companyParticipantSearch={participant_name:""},s.toggleCompanyParticipantList=function(){return s.isOpen=!s.isOpen}}]}}),angular.module("ahaLuminateApp").directive("companyTeamList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/companyTeamList.html",restrict:"E",replace:!0,scope:{isOpen:"=",isChildCompany:"=",companyName:"=",companyId:"=",frId:"=",teams:"=",searchCompanyTeams:"="},controller:["$scope",function(s){return s.companyTeamSearch={team_name:""},s.toggleCompanyTeamList=function(){return s.isOpen=!s.isOpen}}]}}),angular.module("ahaLuminateApp").directive("teamMemberList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/teamMemberList.html",restrict:"E",replace:!0,scope:{teamMembers:"=",teamGiftsLabel:"=",teamGiftsAmount:"=",teamGiftsAmountFormatted:"="}}}),angular.module("ahaLuminateApp").directive("topCompanyList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/topCompanyList.html",restrict:"E",replace:!0,scope:{companies:"=",maxSize:"="}}}),angular.module("ahaLuminateApp").directive("topParticipantList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/topParticipantList.html",restrict:"E",replace:!0,scope:{participants:"=",maxSize:"="}}}),angular.module("ahaLuminateApp").directive("topTeamList",function(){return{templateUrl:"../aha-luminate/dist/heart-walk/html/directive/topTeamList.html",restrict:"E",replace:!0,scope:{teams:"=",maxSize:"="}}}),angular.module("ahaLuminateControllers").controller("CompanyListPageCtrl",["$scope","$filter","TeamraiserCompanyDataService",function(s,e,S){return s.topCompanies={},S.getCompanyData().then(function(S){var a,E,T,i;return a=null!=(T=S.data.getCompanyDataResponse)?T.company:void 0,a?(i=[],E=function(s){var e,S,a,E,T,i;for(E=",",a=new RegExp("(\\"+E+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+E+"\\r\\n]*))","gi"),e=[[]],S=null;S=a.exec(s);)T=S[1],i=void 0,T.length&&T!==E&&e.push([]),i=S[2]?S[2].replace(new RegExp('""',"g"),'"'):S[3],e[e.length-1].push(i);return e},angular.forEach(a,function(S){var a;if(""!==S)return a=E(S),i.push({eventId:s.frId,companyId:a[0],participantCount:a[3],companyName:a[1],teamCount:a[4],amountRaised:100*Number(a[2]),amountRaisedFormatted:e("currency")(Number(a[2]),"$").replace(".00","")})}),s.topCompanies.companies=e("orderBy")(i,"amountRaised",!0)):s.topCompanies.companies=[]})}]),angular.module("ahaLuminateControllers").controller("CompanyPageCtrl",["$scope","$location","$filter","$timeout","TeamraiserCompanyService","TeamraiserTeamService","TeamraiserParticipantService",function(s,e,S,a,E,T,i){var o,t,l,n,r,c,h,u,_,p,R,U,w,A;return s.companyId=e.absUrl().split("company_id=")[1].split("&")[0],l=angular.element(".js--default-company-hierarchy"),o=l.find(".trr-td p.righted"),A=0,angular.forEach(o,function(s){var e;if(e=angular.element(s).text())return e=e.replace("$","").replace(/,/g,""),e=100*Number(e),A+=e}),n=angular.element(".js--default-company-summary"),h=n.find(".company-tally-container--gift-count .company-tally-ammount").text(),""===h&&(h="0"),s.companyProgress={numDonations:h},_=function(e,E){if(s.companyProgress.amountRaised=e||0,s.companyProgress.amountRaised=Number(s.companyProgress.amountRaised),s.companyProgress.amountRaisedFormatted=S("currency")(s.companyProgress.amountRaised/100,"$").replace(".00",""),s.companyProgress.goal=E||0,s.companyProgress.goal=Number(s.companyProgress.goal),s.companyProgress.goalFormatted=S("currency")(s.companyProgress.goal/100,"$").replace(".00",""),s.companyProgress.percent=2,a(function(){var e;if(e=s.companyProgress.percent,0!==s.companyProgress.goal&&(e=Math.ceil(s.companyProgress.amountRaised/s.companyProgress.goal*100)),e<2&&(e=2),e>98&&(e=98),s.companyProgress.percent=e,!s.$$phase)return s.$apply()},500),!s.$$phase)return s.$apply()},E.getCompanies("company_id="+s.companyId,{error:function(){return _()},success:function(s){var e,S;return e=null!=(S=s.getCompaniesResponse)?S.company:void 0,e?_(A,e.goal):_()}}),t=l.find(".trr-td a"),s.childCompanies=[],angular.forEach(t,function(e){var S,a;if(a=angular.element(e).attr("href"),S=angular.element(e).text(),a.indexOf("company_id=")!==-1)return s.childCompanies.push({id:a.split("company_id=")[1].split("&")[0],name:S})}),u=s.childCompanies.length+1,s.companyTeamSearch={team_name:""},s.companyTeams={isOpen:!0,page:1},w=function(e,S){if(s.companyTeams.teams=e||[],S=S||0,s.companyTeams.totalNumber=Number(S),!s.$$phase)return s.$apply()},s.childCompanyTeams={companies:[]},c=function(e,S,a,E,T){var i,o;if(i=(null!=(o=s.childCompanyTeams.companies[e])?o.page:void 0)||0,s.childCompanyTeams.companies[e]={isOpen:!0,page:i,companyIndex:e,companyId:S||"",companyName:a||"",teams:E||[]},T=T||0,s.childCompanyTeams.companies[e].totalNumber=Number(T),!s.$$phase)return s.$apply()},R=function(e){if(s.companyProgress.numTeams||(s.companyProgress.numTeams=e||0),!s.$$phase)return s.$apply()},s.getCompanyTeamLists=function(){var e,a;return e=0,a=0,s.getCompanyTeams=function(){var E;return E=s.companyTeams.page-1,T.getTeams("team_company_id="+s.companyId+"&team_name="+s.companyTeamSearch.team_name+"&list_sort_column=total&list_ascending=false&list_page_size=5&list_page_offset="+E,{error:function(){if(w(),e++,e===u)return R(a)},success:function(s){var E,T,i;if(w(),E=null!=(T=s.getTeamSearchByInfoResponse)?T.team:void 0,E&&(angular.isArray(E)||(E=[E]),angular.forEach(E,function(s){var e;if(s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=S("currency")(s.amountRaised/100,"$").replace(".00",""),e=s.joinTeamURL)return s.joinTeamURL=e.split("/site/")[1]}),i=s.getTeamSearchByInfoResponse.totalNumberResults,w(E,i),a+=Number(i)),e++,e===u)return R(a)}})},s.getCompanyTeams(),s.getChildCompanyTeams=function(E){var i,o,t,l,n;return i=s.childCompanies[E],o=i.id,t=i.name,l=null!=(n=s.childCompanyTeams.companies[E])?n.page:void 0,l?l--:l=0,T.getTeams("team_company_id="+o+"&team_name="+s.companyTeamSearch.team_name+"&list_sort_column=total&list_ascending=false&list_page_size=5&list_page_offset="+l,{error:function(){if(c(E,o,t),e++,e===u)return R(a)},success:function(s){var T,i,l;if(T=null!=(i=s.getTeamSearchByInfoResponse)?i.team:void 0,T?(angular.isArray(T)||(T=[T]),angular.forEach(T,function(s){var e;if(s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=S("currency")(s.amountRaised/100,"$").replace(".00",""),e=s.joinTeamURL)return s.joinTeamURL=e.split("/site/")[1]}),l=s.getTeamSearchByInfoResponse.totalNumberResults,c(E,o,t,T,l),a+=Number(l)):c(E,o,t),e++,e===u)return R(a)}})},angular.forEach(s.childCompanies,function(e,S){return s.getChildCompanyTeams(S)})},s.getCompanyTeamLists(),s.searchCompanyTeams=function(e){return s.companyTeamSearch.team_name=(null!=e?e.team_name:void 0)||"",s.companyTeams.isOpen=!0,s.companyTeams.page=1,angular.forEach(s.childCompanyTeams.companies,function(e,S){return s.childCompanyTeams.companies[S].isOpen=!0,s.childCompanyTeams.companies[S].page=1}),s.getCompanyTeamLists()},s.companyParticipantSearch={participant_name:""},s.companyParticipants={isOpen:!0,page:1},U=function(e,S){if(s.companyParticipants.participants=e||[],S=S||0,s.companyParticipants.totalNumber=Number(S),!s.$$phase)return s.$apply()},s.childCompanyParticipants={companies:[]},r=function(e,S,a,E,T){var i,o;if(i=(null!=(o=s.childCompanyParticipants.companies[e])?o.page:void 0)||0,s.childCompanyParticipants.companies[e]={isOpen:!0,page:i,companyIndex:e,companyId:S||"",companyName:a||"",participants:E||[]},T=T||0,s.childCompanyParticipants.companies[e].totalNumber=Number(T),!s.$$phase)return s.$apply()},p=function(e){if(s.companyProgress.numParticipants=e||0,!s.$$phase)return s.$apply()},s.getCompanyParticipantLists=function(){var e,a;return e=0,a=0,s.getCompanyParticipants=function(){var E,T,o;return E=s.companyParticipantSearch.participant_name,T="",s.companyParticipantSearch.participant_name.indexOf(" ")!==-1&&(E=s.companyParticipantSearch.participant_name.split(" ")[0],T=s.companyParticipantSearch.participant_name.split(" ")[1]),o=s.companyParticipants.page-1,i.getParticipants("team_name="+encodeURIComponent("%%%")+"&first_name="+E+"&last_name="+T+"&list_filter_column=team.company_id&list_filter_text="+s.companyId+"&list_sort_column=total&list_ascending=false&list_page_size=5&list_page_offset="+o,{error:function(){if(U(),e++,e===u)return p(a)},success:function(s){var E,T,i,o;if(U(),T=null!=(i=s.getParticipantsResponse)?i.participant:void 0,T&&(angular.isArray(T)||(T=[T]),E=[],angular.forEach(T,function(s){var e,a;if(null!=(a=s.name)?a.first:void 0)return s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=S("currency")(s.amountRaised/100,"$").replace(".00",""),e=s.donationUrl,e&&(s.donationUrl=e.split("/site/")[1]),E.push(s)}),o=s.getParticipantsResponse.totalNumberResults,U(E,o),a+=Number(o)),e++,e===u)return p(a)}})},s.getCompanyParticipants(),s.getChildCompanyParticipants=function(E){var T,o,t,l,n,c,h;return T=s.childCompanies[E],o=T.id,t=T.name,l=s.companyParticipantSearch.participant_name,n="",s.companyParticipantSearch.participant_name.indexOf(" ")!==-1&&(l=s.companyParticipantSearch.participant_name.split(" ")[0],n=s.companyParticipantSearch.participant_name.split(" ")[1]),c=null!=(h=s.childCompanyParticipants.companies[E])?h.page:void 0,c?c--:c=0,i.getParticipants("team_name="+encodeURIComponent("%%%")+"&first_name="+l+"&last_name="+n+"&list_filter_column=team.company_id&list_filter_text="+o+"&list_sort_column=total&list_ascending=false&list_page_size=5&list_page_offset="+c,{error:function(){if(r(E,o,t),e++,e===u)return p(a)},success:function(s){var T,i,l,n;if(i=null!=(l=s.getParticipantsResponse)?l.participant:void 0,i?(angular.isArray(i)||(i=[i]),T=[],angular.forEach(i,function(s){var e,a;if(null!=(a=s.name)?a.first:void 0)return s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=S("currency")(s.amountRaised/100,"$").replace(".00",""),e=s.donationUrl,e&&(s.donationUrl=e.split("/site/")[1]),T.push(s)}),n=s.getParticipantsResponse.totalNumberResults,r(E,o,t,T,n),a+=Number(n)):r(E,o,t),e++,e===u)return p(a)}})},angular.forEach(s.childCompanies,function(e,S){return s.getChildCompanyParticipants(S)})},s.getCompanyParticipantLists(),s.searchCompanyParticipants=function(e){return s.companyParticipantSearch.participant_name=(null!=e?e.participant_name:void 0)||"",s.companyParticipants.isOpen=!0,s.companyParticipants.page=1,angular.forEach(s.childCompanyParticipants.companies,function(e,S){return s.childCompanyParticipants.companies[S].isOpen=!0,s.childCompanyParticipants.companies[S].page=1}),s.getCompanyParticipantLists()}}]),angular.module("ahaLuminateControllers").controller("GreetingPageCtrl",["$scope","$http","$timeout","$filter","TeamraiserParticipantService","TeamraiserTeamService","TeamraiserCompanyDataService",function(s,e,S,a,E,T,i){var o,t;return e.get("PageServer?pagename=getTeamraiserInfo&fr_id="+s.frId+"&response_format=json&pgwrap=n").then(function(e){var a;return a=e.data.getTeamraiserInfo,a?s.eventProgress={amountRaised:a.amountRaised,goal:a.goal}:s.eventProgress={amountRaised:0,goal:0},s.eventProgress.percent=2,S(function(){var e;return e=s.eventProgress.percent,0!==s.eventProgress.goal&&(e=Math.ceil(s.eventProgress.amountRaised/s.eventProgress.goal*100)),e<2&&(e=2),e>98&&(e=98),s.eventProgress.percent=e},500)}),s.topParticipants={},o=function(e){if(s.topParticipants.participants=e,!s.$$phase)return s.$apply()},E.getParticipants("first_name="+encodeURIComponent("%%%")+"&list_sort_column=total&list_ascending=false",{error:function(){return o([])},success:function(s){var e,S,E;return e=(null!=(S=s.getParticipantsResponse)?S.participant:void 0)||[],e?(angular.isArray(e)||(e=[e]),E=[],angular.forEach(e,function(s){var e;if(null!=(e=s.name)?e.first:void 0)return s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=a("currency")(s.amountRaised/100,"$").replace(".00",""),E.push(s)}),o(E)):o([])}}),s.topTeams={},t=function(e){if(s.topTeams.teams=e,!s.$$phase)return s.$apply()},T.getTeams("list_sort_column=total&list_ascending=false",{error:function(){return t([])},success:function(s){var e,S,E;return S=(null!=(e=s.getTeamSearchByInfoResponse)?e.team:void 0)||[],S?(angular.isArray(S)||(S=[S]),E=[],angular.forEach(S,function(s){return s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=a("currency")(s.amountRaised/100,"$").replace(".00",""),E.push(s)}),t(E)):t([])}}),s.topCompanies={},i.getCompanyData().then(function(e){var S,E,T,i;return S=null!=(T=e.data.getCompanyDataResponse)?T.company:void 0,S?(i=[],E=function(s){var e,S,a,E,T,i;for(E=",",a=new RegExp("(\\"+E+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+E+"\\r\\n]*))","gi"),e=[[]],S=null;S=a.exec(s);)T=S[1],i=void 0,T.length&&T!==E&&e.push([]),i=S[2]?S[2].replace(new RegExp('""',"g"),'"'):S[3],e[e.length-1].push(i);return e},angular.forEach(S,function(e){var S;if(""!==e)return S=E(e),console.log("companyData",S),i.push({eventId:s.frId,companyId:S[0],participantCount:S[3],companyName:S[1],teamCount:S[4],amountRaised:100*Number(S[2]),amountRaisedFormatted:a("currency")(Number(S[2]),"$").replace(".00","")})}),console.log("topCompanies",i),s.topCompanies.companies=a("orderBy")(i,"amountRaised",!0),console.log("$scope.topCompanies.companies",s.topCompanies.companies)):s.topCompanies.companies=[]})}]),angular.module("ahaLuminateControllers").controller("MainCtrl",["$scope",function(s){return angular.element("body").on("click",".addthis_button_facebook",function(s){return s.preventDefault()})}]),angular.module("ahaLuminateControllers").controller("PersonalPageCtrl",["$scope","$location","$timeout","TeamraiserParticipantService",function(s,e,S,a){var E;return s.participantId=e.absUrl().split("px=")[1].split("&")[0],s.participantProgress={},E=function(e,a){if(s.participantProgress.amountRaised=e||0,s.participantProgress.amountRaised=Number(s.participantProgress.amountRaised),s.participantProgress.goal=a||0,s.participantProgress.percent=2,S(function(){var e;if(e=s.participantProgress.percent,0!==s.participantProgress.goal&&(e=Math.ceil(s.participantProgress.amountRaised/s.participantProgress.goal*100)),e<2&&(e=2),e>98&&(e=98),s.participantProgress.percent=e,!s.$$phase)return s.$apply()},500),!s.$$phase)return s.$apply()},a.getParticipants("first_name="+encodeURIComponent("%%%")+"&list_filter_column=reg.cons_id&list_filter_text="+s.participantId,{error:function(){return E()},success:function(s){var e,S;return e=null!=(S=s.getParticipantsResponse)?S.participant:void 0,e?E(e.amountRaised,e.goal):E()}})}]),angular.module("ahaLuminateControllers").controller("TeamPageCtrl",["$scope","$location","$timeout","$filter","TeamraiserTeamService","TeamraiserParticipantService",function(s,e,S,a,E,T){var i,o,t,l,n;return s.teamId=e.absUrl().split("team_id=")[1].split("&")[0],s.teamProgress={},t=function(e,a){if(s.teamProgress.amountRaised=e||0,s.teamProgress.amountRaised=Number(s.teamProgress.amountRaised),s.teamProgress.goal=a||0,s.teamProgress.percent=2,S(function(){var e;if(e=s.teamProgress.percent,0!==s.teamProgress.goal&&(e=Math.ceil(s.teamProgress.amountRaised/s.teamProgress.goal*100)),e<2&&(e=2),e>98&&(e=98),s.teamProgress.percent=e,!s.$$phase)return s.$apply()},500),!s.$$phase)return s.$apply()},E.getTeams("team_id="+s.teamId,{error:function(){return t()},success:function(s){var e,S;return S=null!=(e=s.getTeamSearchByInfoResponse)?e.team:void 0,S?t(S.amountRaised,S.goal):t()}}),s.teamMembers={page:1},i=angular.element(".js--default-team-roster"),o=i.find(".team-roster-participant-row").last(),s.teamMembers.teamGiftsLabel=o.find(".team-roster-participant-name").text(),n=o.find(".team-roster-participant-raised").text(),""===n&&(n="0"),s.teamMembers.teamGiftsAmount=100*n.replace("$","").replace(/,/g,""),s.teamMembers.teamGiftsAmount=Number(s.teamMembers.teamGiftsAmount),s.teamMembers.teamGiftsAmountFormatted=a("currency")(s.teamMembers.teamGiftsAmount/100,"$").replace(".00",""),l=function(e,S){if(s.teamMembers.members=e||[],s.teamMembers.totalNumber=S||0,!s.$$phase)return s.$apply()},s.getTeamMembers=function(){var e;return e=s.teamMembers.page-1,T.getParticipants("first_name="+encodeURIComponent("%%%")+"&list_filter_column=reg.team_id&list_filter_text="+s.teamId+"&list_sort_column=total&list_ascending=false&list_page_size=4&list_page_offset="+e,{error:function(){return l()},success:function(s){var e,S,E;if(l(),E=null!=(e=s.getParticipantsResponse)?e.participant:void 0)return angular.isArray(E)||(E=[E]),S=[],angular.forEach(E,function(s){var e,E;if(null!=(E=s.name)?E.first:void 0)return s.amountRaised=Number(s.amountRaised),s.amountRaisedFormatted=a("currency")(s.amountRaised/100,"$").replace(".00",""),e=s.donationUrl,e&&(s.donationUrl=e.split("/site/")[1]),S.push(s)}),l(S,s.getParticipantsResponse.totalNumberResults)}})},s.getTeamMembers()}])}).call(this);