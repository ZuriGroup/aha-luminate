(function(){angular.module("ahaLuminateApp",["ngSanitize","ui.bootstrap","ahaLuminateControllers"]),angular.module("ahaLuminateControllers",[]),angular.module("ahaLuminateApp").constant("APP_INFO",{version:"1.0.0"}),angular.module("ahaLuminateApp").run(["$rootScope","APP_INFO",function(a,b){var c;if(c=angular.element("[data-aha-luminate-root]"),""!==c.data("api-key")&&(a.apiKey=c.data("api-key")),a.apiKey||new Error("AHA Luminate Framework: No Luminate Online API Key is defined."),""!==c.data("cons-id")&&(a.consId=c.data("cons-id")),""!==c.data("auth-token"))return a.authToken=c.data("auth-token")}]),angular.element(document).ready(function(){return angular.bootstrap(document,["ahaLuminateApp"])}),angular.module("ahaLuminateApp").factory("AuthService",["LuminateRESTService",function(a){return{login:function(b,c){var d;return d="method=login",b&&""!==b&&(d+="&"+b),a.luminateExtendConsRequest(d,!1,c)}}}]),angular.module("ahaLuminateApp").factory("CsvService",function(){return{toJson:function(a){var b,c,d,e,f,g,h;for(f=this.toArray(a),h=[],c=f[0],f.splice(0,1),d=0;d<f.length;){if(b=f[d],g={},b.length===c.length){for(e=0;e<c.length;)g[c[e]]=b[e],e++;h.push(g)}d++}return h},toArray:function(a){var b,c,d,e,f,g;for(e=",",d=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),b=[[]],c=null;c=d.exec(a);)f=c[1],g=void 0,f.length&&f!==e&&b.push([]),g=c[2]?c[2].replace(new RegExp('""',"g"),'"'):c[3],b[b.length-1].push(g);return b}}}),angular.module("ahaLuminateApp").factory("DonationService",["LuminateRESTService",function(a){return{getDonationFormInfo:function(b){var c;return c="method=getDonationFormInfo",b&&""!==b&&(c+="&"+b),a.donationRequest(c).then(function(a){return a})},donate:function(b){var c;return c="method=donate",b&&""!==b&&(c+="&"+b),a.donationRequest(c).then(function(a){return a})},startDonation:function(b){var c;return c="method=startDonation",b&&""!==b&&(c+="&"+b),a.donationRequest(c).then(function(a){return a})}}}]),angular.module("ahaLuminateApp").factory("LuminateRESTService",["$rootScope","$http","APP_INFO",function(a,b,c){return{request:function(c,d,e,f){if(d)if(a.apiKey){if(d+="&v=1.0&api_key="+a.apiKey+"&response_format=json&suppress_response_codes=true",!e||a.authToken)return e&&(d+="&auth="+a.authToken),f&&(d+="&fr_id="+a.frId+"&s_trID="+a.frId),b({method:"POST",url:c,data:d,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){return a})}else;else;},luminateExtendRequest:function(b,c,d,e,f){if(luminateExtend){if(c)return e&&(c+="&fr_id="+a.frId+"&s_trID="+a.frId),luminateExtend.api({api:b,data:c,requiresAuth:d,callback:f||angular.noop})}else;},teamraiserRequest:function(a,b,c){return this.request("CRTeamraiserAPI",a,b,c)},luminateExtendTeamraiserRequest:function(a,b,c,d){return this.luminateExtendRequest("teamraiser",a,b,c,d)},consRequest:function(a,b){return this.request("CRConsAPI",a,b,!1)},donationRequest:function(a){return this.request("CRDonationAPI",a)},luminateExtendConsRequest:function(a,b,c){return this.luminateExtendRequest("cons",a,b,!1,c)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserCompanyService",["LuminateRESTService","$http","$sce",function(a,b,c){return{getCompanies:function(b,c){var d;return d="method=getCompaniesByInfo",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)},getCompanyList:function(b,c){var d;return d="method=getCompanyList",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)},getCoordinatorQuestion:function(a,c){return b({method:"GET",url:"PageServer?pagename=ym_coordinator_data&pgwrap=n&consId="+a+"&frId="+c}).then(function(a){return a})},getSchools:function(a){var d,e;return d="http://www2.heart.org/site/PageServer?pagename=jump_hoops_school_search&pgwrap=n",e=c.trustAsResourceUrl(d),b.jsonp(e,{jsonpCallbackParam:"callback"}).then(function(b){return b.data.success?a.success(decodeURIComponent(b.data.success.schools.replace(/\+/g," "))):a.failure(b)})}}}]),angular.module("ahaLuminateApp").factory("TeamraiserParticipantService",["LuminateRESTService",function(a){return{getParticipants:function(b,c){var d;return d="method=getParticipants",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserTeamService",["LuminateRESTService",function(a){return{getTeams:function(b,c){var d;return d="method=getTeamsByInfo",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)}}}]),angular.module("ahaLuminateApp").factory("UtilsService",function(){return{unique:function(a){var b,c,d;for(c={},d=[],b=0;b<a.length;)c[a[b]]||(c[a[b]]=!0,d.push(a[b])),b++;return d}}}),angular.module("ahaLuminateApp").factory("ZuriService",["$rootScope","$http","$sce",function(a,b,c){return{getZooStudent:function(a,d){var e,f;return e="http://hearttools.heart.org/zoocrew-api/student/"+a+"?key=6Mwqh5dFV39HLDq7",f=c.trustAsResourceUrl(e),b.jsonp(f,{jsonpCallbackParam:"callback"}).then(function(a){return a.data.success===!1?d.error(a):d.success(a)})},getZooSchool:function(a,d){var e,f;return e="http://hearttools.heart.org/zoocrew-api/program/"+a+"?key=6Mwqh5dFV39HLDq7",f=c.trustAsResourceUrl(e),b.jsonp(f,{jsonpCallbackParam:"callback"}).then(function(a){return a.data.success===!1?d.error(a):d.success(a)})}}}]),angular.module("ahaLuminateApp").directive("eqColumnHeight",["$window","$timeout",function(a,b){return{restrict:"A",link:function(c,d){var e;return e=function(){var a;return angular.element(d).css("height",""),angular.element(d).siblings("[eq-column-height]").css("height",""),a=Number(angular.element(d).css("height").replace("px","")),angular.element(d).siblings("[eq-column-height]").each(function(){var b;if(b=Number(angular.element(this).css("height").replace("px","")),b>a)return a=b}),angular.element(d).css("height",a+"px"),angular.element(d).siblings("[eq-column-height]").css("height",a+"px")},b(e,500),angular.element(a).bind("resize",function(){return e(),c.$digest()})}}}]),angular.module("ahaLuminateControllers").controller("MainCtrl",["$scope",function(a){return angular.element("body").on("click",".addthis_button_facebook",function(a){return a.preventDefault()})}])}).call(this);