(function(){angular.module("ahaLuminateApp",["ngSanitize","ngTouch","ui.bootstrap","ahaLuminateControllers"]),angular.module("ahaLuminateControllers",[]),angular.module("ahaLuminateApp").constant("APP_INFO",{version:"1.0.0",rootPath:function(){var a;return"",a=luminateExtend.global.devBranch,a&&""!==a?"../"+a+"/aha-luminate/":"../aha-luminate/"}()}),angular.module("ahaLuminateApp").run(["$rootScope","APP_INFO",function(a,b){var c;if(c=angular.element("[data-aha-luminate-root]"),""!==c.data("api-key")&&(a.apiKey=c.data("api-key")),a.apiKey||new Error("AHA Luminate Framework: No Luminate Online API Key is defined."),""!==c.data("cons-id")&&(a.consId=c.data("cons-id")),""!==c.data("auth-token")&&(a.authToken=c.data("auth-token")),""!==c.data("fr-id"))return a.frId=c.data("fr-id")}]),angular.element(document).ready(function(){var a;a=["ahaLuminateApp"];try{angular.module("trPcApp"),a.push("trPcApp")}catch(a){a}return angular.bootstrap(document,a)}),angular.module("ahaLuminateApp").factory("AuthService",["LuminateRESTService",function(a){return{login:function(b,c){var d;return d="method=login",b&&""!==b&&(d+="&"+b),a.luminateExtendConsRequest(d,!1,c)}}}]),angular.module("ahaLuminateApp").factory("CsvService",function(){return{toJson:function(a){var b,c,d,e,f,g,h;for(f=this.toArray(a),h=[],c=f[0],f.splice(0,1),d=0;d<f.length;){if(b=f[d],g={},b.length===c.length){for(e=0;e<c.length;)g[c[e]]=b[e],e++;h.push(g)}d++}return h},toArray:function(a){var b,c,d,e,f,g;for(e=",",d=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),b=[[]],c=null;c=d.exec(a);)f=c[1],g=void 0,f.length&&f!==e&&b.push([]),g=c[2]?c[2].replace(new RegExp('""',"g"),'"'):c[3],b[b.length-1].push(g);return b}}}),angular.module("ahaLuminateApp").factory("DonationService",["LuminateRESTService",function(a){return{getDonationFormInfo:function(b){var c;return c="method=getDonationFormInfo",b&&""!==b&&(c+="&"+b),a.donationRequest(c).then(function(a){return a})},donate:function(b){var c;return c="method=donate",b&&""!==b&&(c+="&"+b),a.donationRequest(c).then(function(a){return a})},startDonation:function(b){var c;return c="method=startDonation",b&&""!==b&&(c+="&"+b),a.donationRequest(c).then(function(a){return a})}}}]),angular.module("ahaLuminateApp").factory("LuminateRESTService",["$rootScope","$http","APP_INFO",function(a,b,c){return{request:function(c,d,e,f){if(d)if(a.apiKey){if(d+="&v=1.0&api_key="+a.apiKey+"&response_format=json&suppress_response_codes=true",!e||a.authToken)return e&&(d+="&auth="+a.authToken),f&&(d+="&fr_id="+a.frId+"&s_trID="+a.frId),b({method:"POST",url:c,data:d,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(a){return a})}else;else;},luminateExtendRequest:function(b,c,d,e,f){if(luminateExtend){if(c)return e&&(c+="&fr_id="+a.frId+"&s_trID="+a.frId),luminateExtend.api({api:b,data:c,requiresAuth:d,callback:f||angular.noop})}else;},teamraiserRequest:function(a,b,c){return this.request("CRTeamraiserAPI",a,b,c)},luminateExtendTeamraiserRequest:function(a,b,c,d){return this.luminateExtendRequest("teamraiser",a,b,c,d)},consRequest:function(a,b){return this.request("CRConsAPI",a,b,!1)},donationRequest:function(a){return this.request("CRDonationAPI",a)},luminateExtendConsRequest:function(a,b,c){return this.luminateExtendRequest("cons",a,b,!1,c)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserCompanyService",["LuminateRESTService","$http","$sce",function(a,b,c){return{getCompanies:function(b,c){var d;return d="method=getCompaniesByInfo",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)},getCompanyList:function(b,c){var d;return d="method=getCompanyList",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)},getCoordinatorQuestion:function(a,c){return b({method:"GET",url:"PageServer?pagename=ym_coordinator_data&pgwrap=n&consId="+a+"&frId="+c}).then(function(a){return a})},getSchools:function(a){var d,e;return d="http://www2.heart.org/site/PageServer?pagename=jump_hoops_school_search&pgwrap=n",e=c.trustAsResourceUrl(d),b.jsonp(e,{jsonpCallbackParam:"callback"}).then(function(b){return b.data.success?a.success(decodeURIComponent(b.data.success.schools.replace(/\+/g," "))):a.failure(b)})}}}]),angular.module("ahaLuminateApp").factory("TeamraiserParticipantService",["LuminateRESTService",function(a){return{getParticipants:function(b,c){var d;return d="method=getParticipants",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)}}}]),angular.module("ahaLuminateApp").factory("TeamraiserTeamService",["LuminateRESTService",function(a){return{getTeams:function(b,c){var d;return d="method=getTeamsByInfo",b&&""!==b&&(d+="&"+b),a.luminateExtendTeamraiserRequest(d,!1,!0,c)}}}]),angular.module("ahaLuminateApp").factory("UtilsService",function(){return{unique:function(a){var b,c,d;for(c={},d=[],b=0;b<a.length;)c[a[b]]||(c[a[b]]=!0,d.push(a[b])),b++;return d}}}),angular.module("ahaLuminateApp").factory("ZuriService",["$rootScope","$http","$sce",function(a,b,c){return{getZooStudent:function(a,d){var e,f;return e="http://hearttools.heart.org/zoocrew-api/student/"+a+"?key=6Mwqh5dFV39HLDq7",f=c.trustAsResourceUrl(e),b.jsonp(f,{jsonpCallbackParam:"callback"}).then(function(a){return a.data.success===!1?d.error(a):d.success(a)})},getZooSchool:function(a,d){var e,f;return e="http://hearttools.heart.org/zoocrew-api/program/"+a+"?key=6Mwqh5dFV39HLDq7",f=c.trustAsResourceUrl(e),b.jsonp(f,{jsonpCallbackParam:"callback"}).then(function(a){return a.data.success===!1?d.error(a):d.success(a)})}}}]),angular.module("ahaLuminateControllers").controller("CompanyPageCtrl",["$scope","$rootScope","$location","$filter","$timeout","TeamraiserCompanyService","TeamraiserTeamService","TeamraiserParticipantService","ZuriService",function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n;return a.companyId=c.absUrl().split("company_id=")[1].split("&")[0],a.companyProgress=[],b.companyName="",a.eventDate="",a.totalTeams="",a.teamId="",a.studentsPledgedTotal="",a.studentsPledgedActivityTypes=[],i.getZooSchool("1/1",{success:function(b){var c;return console.log(b),a.studentsPledgedTotal=b.data.studentsPledged,c=b.data.studentsPledgedByActivity,angular.forEach(c,function(a){return console.log(a)})}}),l=function(b,c){if(a.companyProgress.amountRaised=b,a.companyProgress.amountRaised=Number(a.companyProgress.amountRaised),a.companyProgress.amountRaisedFormatted=d("currency")(a.companyProgress.amountRaised/100,"$").replace(".00",""),a.companyProgress.goal=c||0,a.companyProgress.goal=Number(a.companyProgress.goal),a.companyProgress.goalFormatted=d("currency")(a.companyProgress.goal/100,"$").replace(".00",""),a.companyProgress.percent=2,e(function(){var b;if(b=a.companyProgress.percent,0!==a.companyProgress.goal&&(b=Math.ceil(a.companyProgress.amountRaised/a.companyProgress.goal*100)),b<2&&(b=2),b>100&&(b=100),a.companyProgress.percent=b,!a.$$phase)return a.$apply()},500),!a.$$phase)return a.$apply()},k=function(){return f.getCompanies("company_id="+a.companyId,{success:function(c){var d,e,g,h,i;return a.participantCount=c.getCompaniesResponse.company.participantCount,a.totalTeams=c.getCompaniesResponse.company.teamCount,g=c.getCompaniesResponse.company.eventId,d=c.getCompaniesResponse.company.amountRaised,h=c.getCompaniesResponse.company.goal,i=c.getCompaniesResponse.company.companyName,e=c.getCompaniesResponse.company.coordinatorId,b.companyName=i,l(d,h),f.getCoordinatorQuestion(e,g).then(function(b){if(a.eventDate=b.data.coordinator.event_date,a.totalTeams=1)return a.teamId=b.data.coordinator.team_id})}})},k(),a.companyTeams=[],n=function(b,c){if(a.companyTeams.teams=b||[],c=c||0,a.companyTeams.totalNumber=Number(c),a.totalTeams=c,!a.$$phase)return a.$apply()},j=function(){return g.getTeams("team_company_id="+a.companyId,{success:function(a){var b,c;if(n(),b=a.getTeamSearchByInfoResponse.team)return angular.isArray(b)||(b=[b]),angular.forEach(b,function(a){var b;if(a.amountRaised=Number(a.amountRaised),a.amountRaisedFormatted=d("currency")(a.amountRaised/100,"$").replace(".00",""),b=a.joinTeamURL)return a.joinTeamURL=b.split("/site/")[1]}),c=a.getTeamSearchByInfoResponse.totalNumberResults,n(b,c)}})},j(),a.companyParticipants=[],m=function(b,c){if(a.companyParticipants.participants=b||[],c=c||0,a.companyParticipants.totalNumber=Number(c),!a.$$phase)return a.$apply()},function(){return h.getParticipants("team_name="+encodeURIComponent("%%%")+"&first_name="+encodeURIComponent("%%%")+"&last_name="+encodeURIComponent("%%%")+"&list_filter_column=team.company_id&list_filter_text="+a.companyId+"&list_sort_column=total&list_ascending=false&list_page_size=50",{error:function(){if(m(),++numCompaniesParticipantRequestComplete===numCompanies)return setCompanyNumParticipants(numParticipants)},success:function(a){var b,c,e,f;if(m(),c=null!=(e=a.getParticipantsResponse)?e.participant:void 0)return angular.isArray(c)||(c=[c]),b=[],angular.forEach(c,function(a){var c,e;if(null!=(e=a.name)?e.first:void 0)return a.amountRaised=Number(a.amountRaised),a.amountRaisedFormatted=d("currency")(a.amountRaised/100,"$").replace(".00",""),c=a.donationUrl,c&&(a.donationUrl=c.split("/site/")[1]),b.push(a)}),f=a.getParticipantsResponse.totalNumberResults,m(b,f)}})}()}]),angular.module("ahaLuminateControllers").controller("DonationCtrl",["$scope","$rootScope","DonationService",function(a,b,c){var d,e,f,g;return d=angular.element("[data-donation-form-root]"),a.donationInfo={validate:"true",form_id:d.data("formid"),fr_id:d.data("frid"),billing_text:angular.element("#billing_info_same_as_donor_row label").text()},a.donationLevels=[],a.giftType=function(a){var b;return b=angular.element(".generic-repeat-label-checkbox-container input").prop("checked"),"monthly"===a?(b===!1&&angular.element(".generic-repeat-label-checkbox-container input").click(),angular.element(".ym-donation-levels__type--onetime").removeClass("btn-toggle--selected"),angular.element(".ym-donation-levels__type--monthly").addClass("btn-toggle--selected")):(b===!0&&angular.element(".generic-repeat-label-checkbox-container input").click(),angular.element(".ym-donation-levels__type--onetime").addClass("btn-toggle--selected"),angular.element(".ym-donation-levels__type--monthly").removeClass("btn-toggle--selected"))},a.selectLevel=function(a,b,c){var d;return angular.element("#pstep_finish span").remove(),"level"===a?(d=" <span>"+c+' <i class="fa fa-chevron-right" aria-hidden="true"></i></span>',angular.element("#pstep_finish").append(d)):angular.element("#pstep_finish").append("<span></span>"),angular.element(".ym-donation-levels__amount .btn-toggle.btn-toggle--selected").removeClass("btn-toggle--selected"),angular.element(".ym-donation-levels__amount .btn-toggle.level"+b).addClass("btn-toggle--selected"),angular.element(".ym-donation-levels__message").addClass("hidden"),angular.element(".ym-donation-levels__message.level"+b).removeClass("hidden"),angular.element(".donation-level-container.level"+b+" input").click()},a.enterAmount=function(a){return angular.element("#pstep_finish span").text(""),angular.element("#pstep_finish span").prepend("$"+a),angular.element(".donation-level-user-entered input").val(a)},g=function(){return angular.element("#employer_name_row").parent().addClass("ym-employer-match__fields"),angular.element("#employer_street_row").parent().addClass("ym-employer-match__fields"),angular.element("#employer_city_row").parent().addClass("ym-employer-match__fields"),angular.element("#employer_state_row").parent().addClass("ym-employer-match__fields"),angular.element("#employer_zip_row").parent().addClass("ym-employer-match__fields"),angular.element("#employer_phone_row").parent().addClass("ym-employer-match__fields"),angular.element(".employer-address-container").addClass("hidden")},a.toggleEmployerMatch=function(){return angular.element(".ym-employer-match__message").toggleClass("hidden"),angular.element(".employer-address-container").toggleClass("hidden")},f=function(){return angular.element("#tr_show_gift_to_public_row").addClass("hidden ym-donor-recognition__fields"),angular.element("#tr_recognition_nameanonymous_row").addClass("hidden ym-donor-recognition__fields"),angular.element("#tr_recognition_namerec_name_row").addClass("hidden ym-donor-recognition__fields")},a.toggleDonorRecognition=function(){return angular.element(".ym-donor-recognition__fields").toggleClass("hidden")},a.togglePersonalNote=function(){return angular.element("#tr_message_to_participant_row").toggleClass("hidden ym-border")},a.tributeGift=function(a){return"honor"===a?(angular.element(".btn-toggle--honor").toggleClass("btn-toggle--selected"),angular.element(".btn-toggle--honor").hasClass("btn-toggle--selected")?(angular.element(".btn-toggle--memory").removeClass("btn-toggle--selected"),angular.element("#tribute_type").val("tribute_type_value2"),angular.element("#tribute_show_honor_fieldsname").prop("checked",!0),angular.element("#tribute_honoree_name_row").show()):(angular.element("#tribute_type").val(""),angular.element("#tribute_show_honor_fieldsname").prop("checked",!1),angular.element("#tribute_honoree_name_row").hide())):(angular.element(".btn-toggle--memory").toggleClass("btn-toggle--selected"),angular.element(".btn-toggle--memory").hasClass("btn-toggle--selected")?(angular.element(".btn-toggle--honor").removeClass("btn-toggle--selected"),angular.element("#tribute_type").val("tribute_type_value1"),angular.element("#tribute_show_honor_fieldsname").prop("checked",!0),angular.element("#tribute_honoree_name_row").show()):(angular.element("#tribute_type").val(""),angular.element("#tribute_show_honor_fieldsname").prop("checked",!1),angular.element("#tribute_honoree_name_row").hide()))},e=function(){return angular.element("#billing_first_name_row").addClass("billing-info"),angular.element("#billing_last_name_row").addClass("billing-info"),angular.element("#billing_addr_street1_row").addClass("billing-info"),angular.element("#billing_addr_street2_row").addClass("billing-info"),angular.element("#billing_addr_city_row").addClass("billing-info"),angular.element("#billing_addr_state_row").addClass("billing-info"),angular.element("#billing_addr_zip_row").addClass("billing-info"),angular.element("#billing_addr_country_row").addClass("billing-info"),angular.element(".billing-info").addClass("hidden")},a.toggleBillingInfo=function(){var a;return angular.element(".billing-info").toggleClass("hidden"),a=angular.element("#billing_info").prop("checked"),a===!0?angular.element("#billing_info_same_as_donorname").prop("checked",!0):angular.element("#billing_info_same_as_donorname").prop("checked",!1)},function(){var b;return c.getDonationFormInfo("form_id="+a.donationInfo.form_id+"&fr_id="+a.donationInfo.fr_id).then(function(b){var c;return c=b.data.getDonationFormInfoResponse.donationLevels.donationLevel,angular.forEach(c,function(b){var c,d,e,f,g,h,i;return g=b.level_id,c=b.amount.formatted,c=c.split(".")[0],i=b.userSpecified,e="#level_standardexpanded"+g,d="level"+g,angular.element(e).parent().parent().parent().parent().addClass(d),h=angular.element("."+d).find(".donation-level-expanded-label p").text(),f=angular.element("."+d+" .donation-level-label-input-container input").prop("checked"),a.donationLevels.push({levelId:g,classLevel:d,amount:c,userSpecified:i,levelLabel:h,levelChecked:f})})}),b='<span class="ym-optional">Optional</span>',angular.element("#donor_phone_row label").append(b),angular.element("#tr_message_to_participant_row").addClass("hidden"),angular.element("#billing_info").parent().addClass("billing_info_toggle"),angular.element("#payment_cc_container").append('<div class="clearfix"></div>'),angular.element("#responsive_payment_typecc_cvv_row .FormLabelText").text("CVV:"),g(),e(),f()}()}]),angular.module("ahaLuminateControllers").controller("MainCtrl",["$scope","$httpParamSerializer","AuthService",function(a,b,c){return a.toggleLoginMenu=function(){return a.loginMenuOpen?delete a.loginMenuOpen:a.loginMenuOpen=!0},angular.element("body").on("click",function(b){if(a.loginMenuOpen&&0===angular.element(b.target).closest(".ym-header-login").length&&a.toggleLoginMenu(),!a.$$phase)return a.$apply()}),a.headerLoginInfo={user_name:"",password:""},a.submitHeaderLogin=function(){return c.login(b(a.headerLoginInfo),{error:function(){return angular.element(".js--default-header-login-form").submit()},success:function(){return a.headerLoginInfo.ng_nexturl&&""!==a.headerLoginInfo.ng_nexturl?window.location=a.headerLoginInfo.ng_nexturl:window.location=window.location.href}})},a.toggleWelcomeMenu=function(){return a.welcomeMenuOpen?delete a.welcomeMenuOpen:a.welcomeMenuOpen=!0},angular.element("body").on("click",function(b){if(a.welcomeMenuOpen&&0===angular.element(b.target).closest(".ym-header-welcome").length&&a.toggleWelcomeMenu(),!a.$$phase)return a.$apply()}),a.toggleSiteMenu=function(){return a.siteMenuOpen?delete a.siteMenuOpen:a.siteMenuOpen=!0},angular.element("body").on("click",function(b){if(a.siteMenuOpen&&0===angular.element(b.target).closest(".ym-site-menu").length&&a.toggleSiteMenu(),!a.$$phase)return a.$apply()})}]),angular.module("ahaLuminateControllers").controller("PersonalPageCtrl",["$scope","$rootScope","$location","$filter","$timeout","TeamraiserParticipantService","TeamraiserCompanyService","ZuriService",function(a,b,c,d,e,f,g,h){var i,j,k,l;return i=angular.element("[data-aha-luminate-root]"),a.participantId=c.absUrl().split("px=")[1].split("&")[0],""!==i.data("company-id")&&(a.companyId=i.data("company-id")),""!==i.data("team-id")&&(a.teamId=i.data("team-id")),a.eventDate="",b.numTeams="",a.challengeName="",a.challengeCompleted="",h.getZooStudent("1/2",{success:function(b){return a.challengeName=b.data.challenges.current,a.challengeCompleted=b.data.challenges.completed},error:function(b){return a.challengeName=null}}),g.getCompanies("company_id="+a.companyId,{success:function(c){var d,e,f,h;return d=null!=(f=c.getCompaniesResponse)?f.company.coordinatorId:void 0,e=null!=(h=c.getCompaniesResponse)?h.company.eventId:void 0,b.numTeams=c.getCompaniesResponse.company.teamCount,g.getCoordinatorQuestion(d,e).then(function(b){return a.eventDate=b.data.coordinator.event_date})}}),l=function(b,c){var f;return a.personalProgress={amountRaised:b||0,goal:c||0},a.personalProgress.amountRaisedFormatted=d("currency")(a.personalProgress.amountRaised/100,"$").replace(".00",""),a.personalProgress.goalFormatted=d("currency")(a.personalProgress.goal/100,"$").replace(".00",""),0===a.personalProgress.goal?a.personalProgress.rawPercent=0:(f=Math.ceil(a.personalProgress.amountRaised/a.personalProgress.goal*100),f>100&&(f=100),a.personalProgress.rawPercent=f),a.personalProgress.percent=0,a.$$phase||a.$apply(),e(function(){var b;if(b=a.personalProgress.percent,0!==a.personalProgress.goal&&(b=Math.ceil(a.personalProgress.amountRaised/a.personalProgress.goal*100)),b>100?b=100:b<2&&(b=2),a.personalProgress.percent=b,!a.$$phase)return a.$apply()},500)},f.getParticipants("fr_id="+a.frId+"&first_name="+encodeURIComponent("%%")+"&last_name="+encodeURIComponent("%")+"&list_filter_column=reg.cons_id&list_filter_text="+a.participantId,{error:function(){return l()},success:function(a){var b,c;return b=null!=(c=a.getParticipantsResponse)?c.participant:void 0,b?l(Number(b.amountRaised),Number(b.goal)):l()}}),a.personalDonors={page:1},k=angular.element(".js--personal-donors .team-honor-list-row"),k&&0!==k.length?1===k.length&&0===k.eq(0).find(".team-honor-list-name").length?(a.personalDonors.donors=[],a.personalDonors.totalNumber=0):(angular.forEach(k,function(b,c){var e,f;return f=angular.element(b).find(".team-honor-list-name").text(),e=angular.element(b).find(".team-honor-list-value").text(),e=e&&e.indexOf("$")!==-1?100*Number(e.replace("$","").replace(/,/g,"")):-1,a.personalDonors.donors||(a.personalDonors.donors=[]),a.personalDonors.donors.push({name:f,amount:e,amountFormatted:e===-1?"":d("currency")(e/100,"$").replace(".00","")})}),a.personalDonors.totalNumber=k.length):(j=angular.element(".js--personal-donors .scrollContent p"),j&&0!==j.length?(angular.forEach(j,function(b,c){var e,f;return f=jQuery.trim(angular.element(b).html().split("<")[0]),e=jQuery.trim(angular.element(b).html().split(">")[1]),e=e&&e.indexOf("$")!==-1?100*Number(e.replace("$","").replace(/,/g,"")):-1,a.personalDonors.donors||(a.personalDonors.donors=[]),a.personalDonors.donors.push({name:f,amount:e,amountFormatted:e===-1?"":d("currency")(e/100,"$").replace(".00","")})}),a.personalDonors.totalNumber=j.length):(a.personalDonors.donors=[],a.personalDonors.totalNumber=0))}]),angular.module("ahaLuminateControllers").controller("RegistrationPtypeCtrl",["$scope",function(a){}]),angular.module("ahaLuminateControllers").controller("RegistrationRegCtrl",["$scope",function(a){}]),angular.module("ahaLuminateControllers").controller("RegistrationRegSummaryCtrl",["$scope",function(a){}]),angular.module("ahaLuminateControllers").controller("RegistrationTfindCtrl",["$scope",function(a){}]),angular.module("ahaLuminateControllers").controller("RegistrationUtypeCtrl",["$scope",function(a){return a.toggleUserType=function(b){if(a.userType=b,"new"===b)return angular.element(".js--default-utype-new-form").submit(),!1},a.submitUtypeLogin=function(){return angular.element(".js--default-utype-existing-form").submit(),!1},a.toggleForgotUsername=function(b){return a.showForgotUsername="show"===b},a.submitForgotUsername=function(){return angular.element(".js--default-utype-send-username-form").submit(),!1}}]),angular.module("ahaLuminateControllers").controller("RegistrationWaiverCtrl",["$scope",function(a){return angular.element(".js--registration-waiver-form").submit()}]),angular.module("ahaLuminateControllers").controller("SchoolSearchCtrl",["$scope","$rootScope","CsvService","UtilsService","TeamraiserCompanyService",function(a,b,c,d,e){a.states=[],a.schools=[],a.schoolList={sortProp:"SCHOOL_NAME",sortDesc:!1,totalItems:0,currentPage:1,numPerPage:5},a.setStates=function(){var b,c,d,e,f;for(c={},f=[],f.push({id:"0",label:"Filter Results by State"}),e=a.schools,b=0;b<e.length;)d=e[b],d.SCHOOL_STATE&&""!==d.SCHOOL_STATE&&angular.isUndefined(c[d.SCHOOL_STATE])&&(c[d.SCHOOL_STATE]=d.SCHOOL_STATE,f.push({id:d.SCHOOL_STATE,label:d.SCHOOL_STATE,SCHOOL_STATE:d.SCHOOL_STATE})),b++,a.states=f,a.schoolList.stateFilter=f[0]},a.paginate=function(b){var c,d,e;return c=(a.schoolList.currentPage-1)*a.schoolList.numPerPage,d=c+a.schoolList.numPerPage,e=a.schools.indexOf(b),c<=e&&e<d},e.getSchools({success:function(b){var d;d=c.toJson(b),a.schools=d,a.schoolList.totalItems=d.length,a.setStates()},failure:function(a){}})}]),angular.module("ahaLuminateControllers").controller("TeamPageCtrl",["$scope","$location",function(a,b){return a.teamId=b.absUrl().split("team_id=")[1].split("&")[0]}]),angular.module("ahaLuminateApp").directive("companyParticipantList",["APP_INFO",function(a){return{templateUrl:a.rootPath+"dist/jump-hoops/html/directive/companyParticipantList.html",restrict:"E",replace:!0,scope:{companyName:"=",companyId:"=",frId:"=",participants:"="},controller:["$scope",function(a){return a.companyParticipantSearch={participant_name:""},a.toggleCompanyParticipantList=function(){return a.isOpen=!a.isOpen}}]}}]),angular.module("ahaLuminateApp").directive("companyTeamList",["APP_INFO",function(a){return{templateUrl:a.rootPath+"dist/jump-hoops/html/directive/companyTeamList.html",restrict:"E",replace:!0,scope:{companyName:"=",companyId:"=",frId:"=",teams:"="}}}]),angular.module("ahaLuminateApp").directive("schoolList",function(){return{template:'<table class="table table-responsive table-striped ym-list ym-list--school-list"> <thead class="ym-list__header"> <th class="ym-list__column ym-list__column--school"> School </th> <th class="ym-list__column ym-list__column--city"> City </th> <th class="ym-list__column ym-list__column--state"> State </th> <th class="ym-list__column ym-list__column--team-leader"> Team Leader </th> </thead> <tbody> <tr class="ym-list__row" ng-repeat="school in schools | filter:{SCHOOL_NAME:nameFilter}| filter:{SCHOOL_STATE:stateFilter}"> <td class="ym-list__column ym-list__column--school">{{school.SCHOOL_NAME}}<br/> <a class="btn btn-primary btn-md" ng-href="#">Sign Up</a> </td><td class="ym-list__column ym-list__column--city">{{school.SCHOOL_CITY}}</td><td class="ym-list__column ym-list__column--state">{{school.SCHOOL_STATE}}</td><td class="ym-list__column ym-list__column--team-leader">{{school.COORDINATOR_FIRST_NAME}} {{school.COORDINATOR_LAST_NAME}}</td></tr></tbody></table>',restrict:"E",replace:!0,require:"ngModel",scope:{schools:"=",nameFilter:"=",stateFilter:"="}}})}).call(this);